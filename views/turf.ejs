<link rel="stylesheet" type="text/css" href="../css/turf.css">

<div id="turf-container">
    <div id="turf-images-container">
        <img src="/images/turf-main-abc.jpg" alt="abc-turf">
    </div>
    <div id="turf-data-container">
        <h2 class="mt-3">
            <%=turf.name%>
        </h2>
        <p>
            <a class="d-block"> <strong>Address: </strong>
                <%= turf.address%>
            </a>
            <a class="d-block"> <strong>Contact No: </strong>
                <%= turf.number%>
            </a>
            <a href="<%= turf.location %>" target="_blank">
                <i class="fa-solid fa-location-dot"></i>
            </a>
        </p>
        <div>
            <button id="book-link" class="btn btn-primary mt-3">Book Here</button>
        </div>
        <br>
        <p>
            <strong>
                Pricing:
            </strong>
            <%=turf.price%>
        </p>

        <form action="/turf/create-booking" method="post" id="booking-form" style="display: none;">
            <input class="form-control mt-3" type="date" name="date" id="form-date-input">
            <select name="time" class="form-select mt-3">
                <!-- options omitted for brevity -->
                <option value="6to7am">6:00am to 7:00 am</option>
                <option value="7to8am">7:00am to 8:00 am</option>
                <option value="8to9am">8:00am to 9:00 am</option>
                <option value="9to10am">9:00am to 10:00 am</option>
                <option value="10to11am">10:00am to 11:00 am</option>
                <option value="11to12pm">11:00am to 12:00 pm</option>
                <option value="12to1pm">12:00pm to 1:00 pm</option>
                <option value="1to2pm">1:00pm to 2:00 pm</option>
                <option value="2to3pm">2:00pm to 3:00 pm</option>
                <option value="3to4pm">3:00pm to 4:00 pm</option>
                <option value="4to5pm">4:00pm to 5:00 pm</option>
                <option value="5to6pm">5:00pm to 6:00 pm</option>
                <option value="6to7pm">6:00pm to 7:00 pm</option>
                <option value="7to8pm">7:00pm to 8:00 pm</option>
                <option value="8to9pm">8:00pm to 9:00 pm</option>
                <option value="9to10pm">9:00pm to 10:00 pm</option>
                <option value="10to11pm">10:00pm to 11:00 pm</option>
            </select>
            <input type="hidden" name="turf" value="<%=turf._id%>">
            <input type="submit" value="Confirm Booking" class="btn btn-primary mt-3">
        </form>
        <div id="bookings-container" class="mt-3">
            <div id="select-date-form">
                <h3>Select Date to check available bookings:</h3>
                <form id="date-form">
                    <input type="date" id="select-date-input" name="selectedDate" onchange="submitDateForm()"
                        value="<%= selectedDate %>" class="form-control">
                </form>
            </div>
            <% if (bookings.length> 0) { %>
                <h4>Bookings for <%= selectedDate %> :</h4>
                <ul>
                    <% bookings.forEach(booking=> { %>
                        <li>
                            <div id="booking-timeslot">
                                <%= booking.time %>
                            </div>
                        </li>
                        <% }); %>
                </ul>
                <% } else { %>
                    <p>No bookings found for <%= selectedDate %> .</p>
                    <% } %>

        </div>
    </div>
</div>
<script src="../js/turf.js"></script>